# チケットリモートサーバＡＰＩ

## １．ＡＰＩ一覧

### (1) 認証系

|No|名称|URL|説明|
|:-:|:--|:--|:--|
|1|[ログイン準備](#api-01-001)|/login/prepare|ログイン用のセッションIDを取得する|
|2|[ログイン](#api-01-002)|/login|ログインを行う|
|3|[ログアウト](#api-01-003)|/logout|ログアウトを行う|


### (2) マスタ系

|No|名称|URL|説明|
|:-:|:--|:--|:--|
|1|[プロジェクトの登録](#api-02-001)|/new_project||
|2|[プロジェクトの更新](#api-02-002)|/edit_project||
|3|[プロジェクト一覧の取得](#api-02-003)|/project_list||
|4|[プロジェクト詳細の取得](#api-02-004)|/project_detail||

### (3) チケット系

|No|名称|URL|説明|
|:-:|:--|:--|:--|
|1|[チケット一覧取得](#api-03-001)|/ticket_list|プロジェクト指定で取得|
|2|[チケットのマスタを取得](#api-03-002)|/ticket_master||
|3|[チケットの登録](#api-03-003)|/new_ticket||
|4|[チケットの更新](#api-03-004)|/edit_ticket||
|5|[チケット詳細取得](#api-03-005)|/ticket_detail||

### (4) 履歴系

|No|名称|URL|説明|
|:-:|:--|:--|:--|
|1|[チケット履歴取得](#api-04-001)|/ticket_histroy|チケット指定で取得|

***
## ２．ＡＰＩ詳細

### (1) 共通

#### 【リクエスト】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|ヘッダ|header|◯||||||
|2|アプリ名|app_name||◯|||||
|3|バージョン|app_ver||◯|||||
|4|セッションID|session_id||◯||||ログイン準備以外は、ログイン時のセッションIDを設定する|
|5|リクエストボディ|body|◯|||||(2)以降参照|

#### 【レスポンス】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|ヘッダ|header|◯||||||
|2|バージョン|version||◯|||||
|3|ステータス|status|◯||||||
|4|処理結果|result||◯|||||
|5|メッセージ|message||◯||||エラーメッセージ等に使用|
|6|レスポンスボディ|body|◯|||||(2)以降参照|

***
### (2) 認証系

<a name="api-01-001"></a>
#### a. ログイン準備
#### 【リクエストボディ】

リクエストボディは、空で良い。

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|セッションID|session_id|◯||||||

<a name="api-01-002"></a>
#### b. ログイン
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|ログインID|login_id|◯||||||
|2|パスワード|passwd|◯|||||暗号化|

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|セッションID|session_id|◯||||||

<a name="api-01-003"></a>
#### c. ログアウト
#### 【リクエストボディ】

***
### (3) マスタ系

<a name="api-02-001"></a>
#### a. プロジェクトの登録 (/new_project)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクト名称|name|◯||||||
|2|プロジェクトの説明|description|◯||||||
|3|管理者ID|manager_id|◯||||||
|4|公開|opened|◯|||||プロジェクトを公開する場合、'yes'|
|5|進行中|alive|◯|||||進行中の場合、'yes'|

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|処理結果|status|◯|||||正常終了した場合、'OK'|
|2|プロジェクトID|id|◯|||||付番したプロジェクトID|

<a name="api-02-002"></a>
#### b. プロジェクトの更新 (/edit_project)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|id|◯|||||更新するプロジェクトID|
|2|プロジェクト名称|name|◯||||||
|3|プロジェクトの説明|description|◯||||||
|4|管理者ID|manager_id|◯||||||
|5|公開|opened|◯|||||プロジェクトを公開する場合、'yes'|
|6|進行中|alive|◯|||||進行中の場合、'yes'|

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|処理結果|status|◯|||||正常終了した場合、'OK'|

<a name="api-02-003"></a>
#### c. プロジェクト一覧の取得 (/project_list)
#### 【リクエストボディ】
なし

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|一覧|list|◯|||||配列|
|2|プロジェクトID|id||◯|||||
|3|プロジェクト名|name||◯|||||
|4|チケットの種類一覧|kinds||◯||||配列。チケット登録ありのみ設定|
|5|種類名称|name|||◯||||
|6|完了数|finish|||◯||||
|7|総数|total|||◯||||

<a name="api-02-004"></a>
#### d. プロジェクト詳細の取得 (/project_detail)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|project_id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクト名称|name|◯||||||
|2|プロジェクトの説明|description|◯||||||
|3|管理者ID|manager_id|◯||||||
|4|公開|opened|◯|||||プロジェクトを公開する場合、'yes'|
|5|進行中|alive|◯|||||進行中の場合、'yes'|
|6|最終更新日|last_update|◯||||||
|7|バージョン|version|◯||||||

***
### (4) チケット系

<a name="api-03-001"></a>
#### a. チケット一覧取得 (/ticket_list)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|レスポンスボディ|body|◯|||||配列|
|2|チケットID|id||◯|||||
|3|チケットタイトル|title||◯|||||

<a name="api-03-002"></a>
#### b. チケットのマスタを取得 (/ticket_master)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|project_id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|マスタ情報|master|◯||||||
|2|チケットの状態|status||◯||||配列|
|3|状態ID|id|||◯||||
|4|状態名称|name|||◯||||
|5|チケットの進捗|progress||◯||||配列|
|6|進捗ID|id|||◯||||
|7|進捗名称|name|||◯||||
|8|チケットの種類|kind||◯||||配列|
|9|種類ID|id|||◯||||
|10|種類名称|name|||◯||||
|11|チケットの優先順位|priority||◯||||配列|
|12|優先順位ID|id|||◯||||
|13|優先順位名称|name|||◯||||

<a name="api-03-003"></a>
#### c. チケットの登録 (/new_ticket)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|チケットタイトル|title|◯||||||
|2|チケットの説明|description|◯||||||
|3|状態ID|status_id|◯||||||
|4|種類ID|kind_id|◯||||||
|5|優先順位ID|priority_id|◯||||||
|6|進捗ID|progress_id|◯||||||
|7|開始日|start_date|◯||||||
|8|終了日|finish_date|◯||||||
|9|プロジェクトID|project_id|◯||||||

#### 【レスポンスボディ】

<a name="api-03-004"></a>
#### d. チケットの更新 (/edit_ticket)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|チケットID|id|◯|||||更新するチケットID|
|2|バージョン|version|◯|||||変更前のバージョン|
|3|チケットタイトル|title|◯||||||
|4|チケットの説明|description|◯||||||
|5|状態ID|status_id|◯||||||
|6|種類ID|kind_id|◯||||||
|7|優先順位ID|priority_id|◯||||||
|8|進捗ID|progress_id|◯||||||
|9|開始日|start_date|◯||||||
|10|終了日|finish_date|◯||||||
|11|プロジェクトID|project_id|◯||||||

#### 【レスポンスボディ】

<a name="api-03-005"></a>
#### e. チケット詳細取得 (/ticket_detail)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|チケットID|id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|マスタ情報|master|◯|||||チケットのマスタを取得 (/ticket_master)のレスポンスと同じ|
|2|チケット情報|ticket|◯||||||
|3|チケットID|id||◯|||||
|4|チケットタイトル|title||◯|||||
|5|チケットの説明|description||◯|||||
|6|状態ID|status_id||◯|||||
|7|種類ID|kind_id||◯|||||
|8|優先順位ID|priority_id||◯|||||
|9|進捗ID|progress_id||◯|||||
|10|開始日|start_date||◯|||||
|11|終了日|finish_date||◯|||||
|12|プロジェクトID|project_id||◯|||||
|13|最終更新日|last_update||◯|||||
|14|バージョン|version||◯|||||

***
### (5) 履歴系

<a name="api-04-001"></a>
#### a. チケット履歴取得 (/ticket_histroy)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|チケットID|id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|レスポンスボディ|body|◯|||||配列|
|2|メモID|id||◯|||||
|3|メモ|memo||◯|||||
|4|ルートメモID|root_id||◯|||||
|5|親メモID|parent_id||◯|||||
|6|作成日時|create_date||◯|||||
|7|作成者|create_user||◯|||||

<a name="end-of-document"></a>