# チケットリモートサーバＡＰＩ

## １．ＡＰＩ一覧

### (1) 認証系

|No|名称|URL|説明|
|:-:|:--|:--|:--|
|1|[ログイン準備](#api-01-001)|/login/prepare|ログイン用のセッションIDを取得する|
|2|[ログイン](#api-01-002)|/login|ログインを行う|
|3|[ログアウト](#api-01-003)|/logout|ログアウトを行う|


### (2) マスタ系

### (3) チケット系
***
## ２．ＡＰＩ詳細

### (1) 共通

#### 【リクエスト】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|ヘッダ|header|◯||||||
|2|アプリ名|app_name||◯|||||
|3|バージョン|app_ver||◯|||||
|4|セッションID|session_id||◯||||ログイン準備以外は、ログイン時のセッションIDを設定する|
|5|リクエストボディ|body|◯|||||(2)以降参照|

#### 【レスポンス】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|ヘッダ|header|◯||||||
|2|バージョン|version||◯|||||
|3|ステータス|status|◯||||||
|4|処理結果|result||◯|||||
|5|メッセージ|message||◯||||エラーメッセージ等に使用|
|6|レスポンスボディ|body|◯|||||(2)以降参照|

***
### (2) 認証系

<a name="api-01-001"></a>
#### a. ログイン準備
#### 【リクエストボディ】

リクエストボディは、空で良い。

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|セッションID|session_id|◯||||||

<a name="api-01-002"></a>
#### b. ログイン
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|ログインID|login_id|◯||||||
|2|パスワード|passwd|◯|||||暗号化|

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|セッションID|session_id|◯||||||

<a name="api-01-003"></a>
#### c. ログアウト
#### 【リクエストボディ】

***
### (3) マスタ系
#### a. プロジェクトの登録 (/new_project)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクト名称|name|◯||||||
|2|プロジェクトの説明|description|◯||||||
|3|管理者ID|manager_id|◯||||||
|4|公開|opened|◯|||||プロジェクトを公開する場合、'yes'|
|5|進行中|alive|◯|||||進行中の場合、'yes'|

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|処理結果|status|◯|||||正常終了した場合、'OK'|
|2|プロジェクトID|id|◯|||||付番したプロジェクトID|

#### b. プロジェクトの更新 (/edit_project)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|id|◯|||||更新するプロジェクトID|
|2|プロジェクト名称|name|◯||||||
|3|プロジェクトの説明|description|◯||||||
|4|管理者ID|manager_id|◯||||||
|5|公開|opened|◯|||||プロジェクトを公開する場合、'yes'|
|6|進行中|alive|◯|||||進行中の場合、'yes'|

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|処理結果|status|◯|||||正常終了した場合、'OK'|

#### c. プロジェクト一覧の取得 (/project_list)
#### 【リクエストボディ】
なし

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|一覧|list|◯|||||配列|
|2|プロジェクトID|id||◯|||||
|3|プロジェクト名|name||◯|||||
|4|チケットの種類一覧|kinds||◯||||配列|
|5|種類名称|name|||◯||||
|6|完了数|finish|||◯||||
|7|総数|total|||◯||||

#### d. プロジェクト詳細の取得 (/project_detail)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|project_id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクト名称|name|◯||||||
|2|プロジェクトの説明|description|◯||||||
|3|管理者ID|manager_id|◯||||||
|4|公開|opened|◯|||||プロジェクトを公開する場合、'yes'|
|5|進行中|alive|◯|||||進行中の場合、'yes'|
|6|最終更新日|last_update|◯||||||
|7|バージョン|version|◯||||||

***
### (4) チケット系

#### a. プロジェクトのチケット一覧取得 (/ticket_list)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|project_id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|レスポンスボディ|body|◯|||||配列|
|2|チケットID|id||◯|||||
|3|チケットタイトル|title||◯|||||

#### b. チケットのマスタを取得 (/ticket_master)
#### 【リクエストボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|プロジェクトID|project_id|◯||||||

#### 【レスポンスボディ】

|No|名称|物理名|1|2|3|4|5|説明|
|:-:|:--|:--|:-:|:-:|:-:|:-:|:-:|:--|
|1|チケットの状態|status|◯|||||配列|
|2|状態ID|id||◯|||||
|3|状態名称|name||◯|||||
|4|チケットの進捗|progress|◯|||||配列|
|5|進捗ID|id||◯|||||
|6|進捗名称|name||◯|||||
|7|チケットの種類|kind|◯|||||配列|
|8|種類ID|id||◯|||||
|9|種類名称|name||◯|||||
|10|チケットの優先順位|priority|◯|||||配列|
|11|優先順位ID|id||◯|||||
|12|優先順位名称|name||◯|||||

#### c. チケットの登録 (/new_ticket)
#### 【リクエストボディ】

#### 【レスポンスボディ】

#### d. チケットの更新 (/edit_ticket)
#### 【リクエストボディ】

#### 【レスポンスボディ】

#### e. チケット詳細取得 (/ticket_detail)
#### 【リクエストボディ】

#### 【レスポンスボディ】

